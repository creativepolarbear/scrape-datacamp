<section class="mfe-app-learn-hub-emzmry"><div class="mfe-app-learn-hub-1uzyzyr"><div class="mfe-app-learn-hub-1vr7vmn"><div class="mfe-app-learn-hub-1ay9vb9"><img alt="profile picture of Abid Ali Awan" src="https://res.cloudinary.com/dyd911kmh/image/upload/v1658155691/Abid_Ali_Awan_415cc44670.jpg" class="mfe-app-learn-hub-q0ke8l"></div><div><p class="mfe-app-learn-hub-13x5cqg">Abid Ali Awan</p><p class="mfe-app-learn-hub-10oordv">Data Science Staff Writer</p></div></div></div><hr class="mfe-app-learn-hub-1p0ouc3"><div class="listed-menu mfe-app-learn-hub-1keetl2"><h2 id="what-is-openai-function-calling?" dir="ltr">What is OpenAI Function Calling?</h2>
    <p dir="ltr">The <a href="https://www.datacamp.com/cheat-sheet/the-open-ai-api-in-python" target="_blank" rel="noopener">OpenAI API</a> is great at generating the response in a systematic way. You can manage your prompts, optimize the model output, and perform, build, and language applications with few lines of code.</p>
    <p dir="ltr">Even with all the good stuff, the OpenAI API was a nightmare for the developers and engineers. Why? They are accustomed to working with structured data types, and working with unstructured data like string is hard.</p>
    <p dir="ltr">To get consistent results, developers have to use regular expressions (RegEx) or <a href="https://www.datacamp.com/blog/what-is-prompt-engineering-the-future-of-ai-communication" target="_blank" rel="noopener">prompt engineering</a> to extract the information from the text string.</p>
    <p dir="ltr">This is where OpenAI's <a href="https://platform.openai.com/docs/guides/gpt/function-calling" target="_blank" rel="noopener">function calling</a> capability comes in. It allows GPT-3.5 and GPT-4 models to take user-defined functions as input and generate structure output. With this, you don't need to write RegEx or perform prompt engineering.</p>
    <p dir="ltr">In this tutorial, we will explore how OpenAI function calling can help resolve common developer problems caused by irregular model outputs.</p>
    <p dir="ltr">If you are just starting out with ChatGPT and the OpenAI API, consider taking a look at the <a href="https://www.datacamp.com/resources/webinars/ungated-getting-started-with-the-openai-api-and-chatgpt" target="_blank" rel="noopener">Getting Started with the OpenAI API and ChatGPT</a> webinar. This resource can guide you through language and coding generation and help you perform basic tasks using Python API.</p>
    <h2 id="using-openai-without-function-calling" dir="ltr">Using OpenAI Without Function Calling</h2>
    <p dir="ltr">In this section, we will generate responses using the GPT-3.5-Turbo model without function calling to see if we get consistent output or not.</p>
    <p dir="ltr">Before installing the OpenAI Python API, you must obtain an API key and set it up on your local system. Follow the <a href="https://app.datacamp.com/learn/tutorials/using-gpt-models-via-the-openai-api-in-python" target="_blank" rel="noopener">GPT-3.5 and GPT-4 via the OpenAI API in Python</a> tutorial to learn how to get the API key and set it up. The tutorial also includes examples of setting up environment variables in DataLab, DataCamp's AI-enabled data notebook.</p>
    <p>For further assistance, check out the code in <a href="https://wwww.datacamp.com/datalab/w/3e8b01b3-c46b-42c2-bd38-f3d95ade5d01/edit" target="_blank" rel="noopener">OpenAI Function Calling workbook on DataLab</a>.</p>
    <p dir="ltr">Upgrade the OpenAI Python API to V1 using:</p>
    <div align="left" dir="ltr">
    <pre class="language-python" tabindex="0"><code class="language-python">pip install <span class="token operator">-</span><span class="token operator">-</span>upgrade openai <span class="token operator">-</span>q</code></pre>
    </div>
    <p dir="ltr">After that, initiate the OpenAI client using the API key.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token keyword">import</span> os
    <span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI
    
    client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span>
      api_key<span class="token operator">=</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">'OPENAI_API_KEY'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span></code></pre>
    <p dir="ltr"><strong>Note</strong>: OpenAI no longer offers free credits to new users, so you have to buy them to use the API.</p>
    <p dir="ltr">We will write a random student description. Either you can come up with your own text or use ChatGPT to generate one for you.</p>
    <pre class="language-python"><button class="code-copy-button" data-trackid="copy-code"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M7 4H5a4 4 0 0 1 4-4h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4v-2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2ZM4 7a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H4Zm0-2h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V9a4 4 0 0 1 4-4Z"></path></svg></button><div class="parent"><code class="language-python">student_1_description <span class="token operator">=</span> <span class="token string">"David Nguyen is a sophomore majoring in computer science at Stanford University. He is Asian American and has a 3.8 GPA. David is known for his programming skills and is an active member of the university's Robotics Club. He hopes to pursue a career in artificial intelligence after graduating."</span></code></div><div class="code-block-footer"><button data-value="Explain code" class="ai-explain-code-button" data-trackid="ai-explain-code-button" data-testid="ai-explain-code-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M9.751 11.484c.29.107.521.338.628.628l.642 1.748.566-1.722a.94.94 0 0 1 .601-.601l1.722-.566-1.748-.642a1.06 1.06 0 0 1-.628-.628l-.642-1.748-.566 1.722a.94.94 0 0 1-.601.601l-1.722.566 1.748.642Zm-5.092.228c-.9-.33-.927-1.593-.04-1.885l3.956-1.302L9.877 4.57c.291-.887 1.555-.86 1.885.04l1.475 4.017 4.016 1.475c.9.33.928 1.593.041 1.885l-3.956 1.302-1.302 3.956c-.292.887-1.555.86-1.885-.04l-1.475-4.017-4.017-1.475ZM.72 5.347c-.9-.33-.928-1.594-.041-1.886l1.384-.455.456-1.385c.292-.887 1.555-.86 1.885.04l.516 1.407 1.406.516c.9.33.928 1.593.041 1.885l-1.385.455-.455 1.385c-.292.887-1.555.86-1.886-.04l-.516-1.406L.72 5.347Z"></path></svg></button><div class="ai-powered-text"><svg viewBox="0 0 201 203" fill="none" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path d="M187.298 82.97a50.549 50.549 0 002.299-21.213 50.551 50.551 0 00-6.656-20.274 51.08 51.08 0 00-54.996-24.5A51.233 51.233 0 0079.247 1.109a51.239 51.239 0 00-38.112 34.221 50.56 50.56 0 00-33.773 24.5 51.08 51.08 0 006.274 59.952 50.522 50.522 0 004.317 41.487 51.121 51.121 0 0055.036 24.5 50.55 50.55 0 0038.09 16.988 51.16 51.16 0 0048.761-35.532 50.591 50.591 0 0033.773-24.5 51.163 51.163 0 00-6.315-59.753zm-76.219 106.515a37.81 37.81 0 01-24.3-8.793l1.198-.679 40.368-23.301a6.713 6.713 0 003.317-5.756V94.042l17.066 9.872a.61.61 0 01.321.44v47.162a38.053 38.053 0 01-37.97 37.969zm-81.615-34.852a37.77 37.77 0 01-4.516-25.46l1.2.72 40.407 23.302a6.522 6.522 0 006.594 0l49.361-28.458v19.705a.675.675 0 01-.281.519l-40.887 23.581a38.008 38.008 0 01-51.878-13.909zm-10.631-87.93a37.89 37.89 0 0119.984-16.666V98a6.473 6.473 0 003.277 5.715l49.12 28.338-17.066 9.871a.64.64 0 01-.6 0l-40.806-23.541a38.048 38.048 0 01-13.91-51.878v.2zM159.04 99.279L109.76 70.66l17.026-9.834a.644.644 0 01.6 0l40.807 23.581a37.967 37.967 0 0111.281 55.825 37.961 37.961 0 01-16.996 12.641v-47.962a6.677 6.677 0 00-3.438-5.634zm16.987-25.54l-1.2-.72-40.327-23.5a6.554 6.554 0 00-6.635 0l-49.32 28.456V58.271a.56.56 0 01.24-.52l40.808-23.541a38.009 38.009 0 0156.435 39.368l-.001.16zM69.232 108.67l-17.066-9.832a.68.68 0 01-.32-.48v-47.04a38.009 38.009 0 0162.31-29.178l-1.199.68-40.367 23.3a6.715 6.715 0 00-3.318 5.756l-.04 56.794zm9.272-19.983l21.982-12.67 22.024 12.67v25.339l-21.943 12.67-22.022-12.67-.04-25.34z" fill="currentColor"></path></svg> OpenAI</div></div><span class="ai-code-explanation" data-trackid="ai-code-explanation" data-testid="ai-code-explanation"></span><div class="ai-feedback"><span class="ai-was-this-helpful">Was this helpful?<button class="ai-explain-code-positive-feedback-button" data-trackid="ai-explain-code-positive-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M13.746 4.337a1.015 1.015 0 0 1 1.409-.099c.417.354.462.97.101 1.378l-7.13 8.047a1.015 1.015 0 0 1-1.483.03L2.771 9.67a.961.961 0 0 1 .044-1.38 1.015 1.015 0 0 1 1.412.041l3.113 3.235 6.406-7.229Z"></path></svg> Yes</button><button class="ai-explain-code-negative-feedback-button" data-trackid="ai-explain-code-negative-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="m9.005 7.625 4.83-4.83a.976.976 0 0 1 1.38 1.38l-4.83 4.83 4.82 4.82a.976.976 0 1 1-1.38 1.38l-4.82-4.82-4.83 4.83a.976.976 0 0 1-1.38-1.38l4.83-4.83-4.84-4.84a.976.976 0 1 1 1.38-1.38l4.84 4.84Z"></path></svg> No</button></span></div></pre>
    <p dir="ltr">In the next part, we will write a prompt to extract student information from the text and return the output as a JSON object. We will extract the name, major, school, grades, and clubs in the student description.</p>
    <pre class="language-python"><button class="code-copy-button" data-trackid="copy-code"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M7 4H5a4 4 0 0 1 4-4h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4v-2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2ZM4 7a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H4Zm0-2h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V9a4 4 0 0 1 4-4Z"></path></svg></button><div class="parent"><code class="language-python"><span class="token comment"># A simple prompt to extract information from "student_description" in a JSON format.</span>
    prompt1 <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'''
    Please extract the following information from the given text and return it as a JSON object:
    
    name
    major
    school
    grades
    club
    
    This is the body of text to extract the information from:
    </span><span class="token interpolation"><span class="token punctuation">{</span>student_1_description<span class="token punctuation">}</span></span><span class="token string">
    '''</span></span></code></div><div class="code-block-footer"><button data-value="Explain code" class="ai-explain-code-button" data-trackid="ai-explain-code-button" data-testid="ai-explain-code-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M9.751 11.484c.29.107.521.338.628.628l.642 1.748.566-1.722a.94.94 0 0 1 .601-.601l1.722-.566-1.748-.642a1.06 1.06 0 0 1-.628-.628l-.642-1.748-.566 1.722a.94.94 0 0 1-.601.601l-1.722.566 1.748.642Zm-5.092.228c-.9-.33-.927-1.593-.04-1.885l3.956-1.302L9.877 4.57c.291-.887 1.555-.86 1.885.04l1.475 4.017 4.016 1.475c.9.33.928 1.593.041 1.885l-3.956 1.302-1.302 3.956c-.292.887-1.555.86-1.885-.04l-1.475-4.017-4.017-1.475ZM.72 5.347c-.9-.33-.928-1.594-.041-1.886l1.384-.455.456-1.385c.292-.887 1.555-.86 1.885.04l.516 1.407 1.406.516c.9.33.928 1.593.041 1.885l-1.385.455-.455 1.385c-.292.887-1.555.86-1.886-.04l-.516-1.406L.72 5.347Z"></path></svg></button><div class="ai-powered-text"><svg viewBox="0 0 201 203" fill="none" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path d="M187.298 82.97a50.549 50.549 0 002.299-21.213 50.551 50.551 0 00-6.656-20.274 51.08 51.08 0 00-54.996-24.5A51.233 51.233 0 0079.247 1.109a51.239 51.239 0 00-38.112 34.221 50.56 50.56 0 00-33.773 24.5 51.08 51.08 0 006.274 59.952 50.522 50.522 0 004.317 41.487 51.121 51.121 0 0055.036 24.5 50.55 50.55 0 0038.09 16.988 51.16 51.16 0 0048.761-35.532 50.591 50.591 0 0033.773-24.5 51.163 51.163 0 00-6.315-59.753zm-76.219 106.515a37.81 37.81 0 01-24.3-8.793l1.198-.679 40.368-23.301a6.713 6.713 0 003.317-5.756V94.042l17.066 9.872a.61.61 0 01.321.44v47.162a38.053 38.053 0 01-37.97 37.969zm-81.615-34.852a37.77 37.77 0 01-4.516-25.46l1.2.72 40.407 23.302a6.522 6.522 0 006.594 0l49.361-28.458v19.705a.675.675 0 01-.281.519l-40.887 23.581a38.008 38.008 0 01-51.878-13.909zm-10.631-87.93a37.89 37.89 0 0119.984-16.666V98a6.473 6.473 0 003.277 5.715l49.12 28.338-17.066 9.871a.64.64 0 01-.6 0l-40.806-23.541a38.048 38.048 0 01-13.91-51.878v.2zM159.04 99.279L109.76 70.66l17.026-9.834a.644.644 0 01.6 0l40.807 23.581a37.967 37.967 0 0111.281 55.825 37.961 37.961 0 01-16.996 12.641v-47.962a6.677 6.677 0 00-3.438-5.634zm16.987-25.54l-1.2-.72-40.327-23.5a6.554 6.554 0 00-6.635 0l-49.32 28.456V58.271a.56.56 0 01.24-.52l40.808-23.541a38.009 38.009 0 0156.435 39.368l-.001.16zM69.232 108.67l-17.066-9.832a.68.68 0 01-.32-.48v-47.04a38.009 38.009 0 0162.31-29.178l-1.199.68-40.367 23.3a6.715 6.715 0 00-3.318 5.756l-.04 56.794zm9.272-19.983l21.982-12.67 22.024 12.67v25.339l-21.943 12.67-22.022-12.67-.04-25.34z" fill="currentColor"></path></svg> OpenAI</div></div><span class="ai-code-explanation" data-trackid="ai-code-explanation" data-testid="ai-code-explanation"></span><div class="ai-feedback"><span class="ai-was-this-helpful">Was this helpful?<button class="ai-explain-code-positive-feedback-button" data-trackid="ai-explain-code-positive-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M13.746 4.337a1.015 1.015 0 0 1 1.409-.099c.417.354.462.97.101 1.378l-7.13 8.047a1.015 1.015 0 0 1-1.483.03L2.771 9.67a.961.961 0 0 1 .044-1.38 1.015 1.015 0 0 1 1.412.041l3.113 3.235 6.406-7.229Z"></path></svg> Yes</button><button class="ai-explain-code-negative-feedback-button" data-trackid="ai-explain-code-negative-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="m9.005 7.625 4.83-4.83a.976.976 0 0 1 1.38 1.38l-4.83 4.83 4.82 4.82a.976.976 0 1 1-1.38 1.38l-4.82-4.82-4.83 4.83a.976.976 0 0 1-1.38-1.38l4.83-4.83-4.84-4.84a.976.976 0 1 1 1.38-1.38l4.84 4.84Z"></path></svg> No</button></span></div></pre>
    <p dir="ltr">Add the prompt to the OpenAI API chat completion module to generate the response.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token comment"># Generating response back from gpt-3.5-turbo</span>
    openai_response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        model <span class="token operator">=</span> <span class="token string">'gpt-3.5-turbo'</span><span class="token punctuation">,</span>
        messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> prompt_1<span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span>
    
    openai_response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content</code></pre>
    <p dir="ltr">The response is quite good. Let’s convert it into JSON to understand it better.</p>
    <pre class="language-python"><button class="code-copy-button" data-trackid="copy-code"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M7 4H5a4 4 0 0 1 4-4h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4v-2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2ZM4 7a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H4Zm0-2h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V9a4 4 0 0 1 4-4Z"></path></svg></button><div class="parent"><code class="language-python"><span class="token string">'{\n  "name": "David Nguyen",\n  "major": "computer science",\n  "school": "Stanford University",\n  "grades": "3.8 GPA",\n  "club": "Robotics Club"\n}'</span></code></div><div class="code-block-footer"><button data-value="Explain code" class="ai-explain-code-button" data-trackid="ai-explain-code-button" data-testid="ai-explain-code-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M9.751 11.484c.29.107.521.338.628.628l.642 1.748.566-1.722a.94.94 0 0 1 .601-.601l1.722-.566-1.748-.642a1.06 1.06 0 0 1-.628-.628l-.642-1.748-.566 1.722a.94.94 0 0 1-.601.601l-1.722.566 1.748.642Zm-5.092.228c-.9-.33-.927-1.593-.04-1.885l3.956-1.302L9.877 4.57c.291-.887 1.555-.86 1.885.04l1.475 4.017 4.016 1.475c.9.33.928 1.593.041 1.885l-3.956 1.302-1.302 3.956c-.292.887-1.555.86-1.885-.04l-1.475-4.017-4.017-1.475ZM.72 5.347c-.9-.33-.928-1.594-.041-1.886l1.384-.455.456-1.385c.292-.887 1.555-.86 1.885.04l.516 1.407 1.406.516c.9.33.928 1.593.041 1.885l-1.385.455-.455 1.385c-.292.887-1.555.86-1.886-.04l-.516-1.406L.72 5.347Z"></path></svg></button><div class="ai-powered-text"><svg viewBox="0 0 201 203" fill="none" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path d="M187.298 82.97a50.549 50.549 0 002.299-21.213 50.551 50.551 0 00-6.656-20.274 51.08 51.08 0 00-54.996-24.5A51.233 51.233 0 0079.247 1.109a51.239 51.239 0 00-38.112 34.221 50.56 50.56 0 00-33.773 24.5 51.08 51.08 0 006.274 59.952 50.522 50.522 0 004.317 41.487 51.121 51.121 0 0055.036 24.5 50.55 50.55 0 0038.09 16.988 51.16 51.16 0 0048.761-35.532 50.591 50.591 0 0033.773-24.5 51.163 51.163 0 00-6.315-59.753zm-76.219 106.515a37.81 37.81 0 01-24.3-8.793l1.198-.679 40.368-23.301a6.713 6.713 0 003.317-5.756V94.042l17.066 9.872a.61.61 0 01.321.44v47.162a38.053 38.053 0 01-37.97 37.969zm-81.615-34.852a37.77 37.77 0 01-4.516-25.46l1.2.72 40.407 23.302a6.522 6.522 0 006.594 0l49.361-28.458v19.705a.675.675 0 01-.281.519l-40.887 23.581a38.008 38.008 0 01-51.878-13.909zm-10.631-87.93a37.89 37.89 0 0119.984-16.666V98a6.473 6.473 0 003.277 5.715l49.12 28.338-17.066 9.871a.64.64 0 01-.6 0l-40.806-23.541a38.048 38.048 0 01-13.91-51.878v.2zM159.04 99.279L109.76 70.66l17.026-9.834a.644.644 0 01.6 0l40.807 23.581a37.967 37.967 0 0111.281 55.825 37.961 37.961 0 01-16.996 12.641v-47.962a6.677 6.677 0 00-3.438-5.634zm16.987-25.54l-1.2-.72-40.327-23.5a6.554 6.554 0 00-6.635 0l-49.32 28.456V58.271a.56.56 0 01.24-.52l40.808-23.541a38.009 38.009 0 0156.435 39.368l-.001.16zM69.232 108.67l-17.066-9.832a.68.68 0 01-.32-.48v-47.04a38.009 38.009 0 0162.31-29.178l-1.199.68-40.367 23.3a6.715 6.715 0 00-3.318 5.756l-.04 56.794zm9.272-19.983l21.982-12.67 22.024 12.67v25.339l-21.943 12.67-22.022-12.67-.04-25.34z" fill="currentColor"></path></svg> OpenAI</div></div><span class="ai-code-explanation" data-trackid="ai-code-explanation" data-testid="ai-code-explanation"></span><div class="ai-feedback"><span class="ai-was-this-helpful">Was this helpful?<button class="ai-explain-code-positive-feedback-button" data-trackid="ai-explain-code-positive-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M13.746 4.337a1.015 1.015 0 0 1 1.409-.099c.417.354.462.97.101 1.378l-7.13 8.047a1.015 1.015 0 0 1-1.483.03L2.771 9.67a.961.961 0 0 1 .044-1.38 1.015 1.015 0 0 1 1.412.041l3.113 3.235 6.406-7.229Z"></path></svg> Yes</button><button class="ai-explain-code-negative-feedback-button" data-trackid="ai-explain-code-negative-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="m9.005 7.625 4.83-4.83a.976.976 0 0 1 1.38 1.38l-4.83 4.83 4.82 4.82a.976.976 0 1 1-1.38 1.38l-4.82-4.82-4.83 4.83a.976.976 0 0 1-1.38-1.38l4.83-4.83-4.84-4.84a.976.976 0 1 1 1.38-1.38l4.84 4.84Z"></path></svg> No</button></span></div></pre>
    <p dir="ltr">We will use the `json` library to convert the text into a JSON object.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token keyword">import</span> json
    
    <span class="token comment"># Loading the response as a JSON object</span>
    json_response <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>openai_response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
    json_response</code></pre>
    <p dir="ltr">The final result is pretty much perfect. So, why do we need Function Calling?</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'David Nguyen'</span><span class="token punctuation">,</span>
     <span class="token string">'major'</span><span class="token punctuation">:</span> <span class="token string">'computer science'</span><span class="token punctuation">,</span>
     <span class="token string">'school'</span><span class="token punctuation">:</span> <span class="token string">'Stanford University'</span><span class="token punctuation">,</span>
     <span class="token string">'grades'</span><span class="token punctuation">:</span> <span class="token string">'3.8 GPA'</span><span class="token punctuation">,</span>
     <span class="token string">'club'</span><span class="token punctuation">:</span> <span class="token string">'Robotics Club'</span><span class="token punctuation">}</span>
    </code></pre>
    <p dir="ltr">Let’s try the same prompt, but using a different student description.</p>
    <pre class="language-python"><button class="code-copy-button" data-trackid="copy-code"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M7 4H5a4 4 0 0 1 4-4h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4v-2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2ZM4 7a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H4Zm0-2h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V9a4 4 0 0 1 4-4Z"></path></svg></button><div class="parent"><code class="language-python">student_2_description<span class="token operator">=</span><span class="token string">"Ravi Patel is a sophomore majoring in computer science at the University of Michigan. He is South Asian Indian American and has a 3.7 GPA. Ravi is an active member of the university's Chess Club and the South Asian Student Association. He hopes to pursue a career in software engineering after graduating."</span></code></div><div class="code-block-footer"><button data-value="Explain code" class="ai-explain-code-button" data-trackid="ai-explain-code-button" data-testid="ai-explain-code-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M9.751 11.484c.29.107.521.338.628.628l.642 1.748.566-1.722a.94.94 0 0 1 .601-.601l1.722-.566-1.748-.642a1.06 1.06 0 0 1-.628-.628l-.642-1.748-.566 1.722a.94.94 0 0 1-.601.601l-1.722.566 1.748.642Zm-5.092.228c-.9-.33-.927-1.593-.04-1.885l3.956-1.302L9.877 4.57c.291-.887 1.555-.86 1.885.04l1.475 4.017 4.016 1.475c.9.33.928 1.593.041 1.885l-3.956 1.302-1.302 3.956c-.292.887-1.555.86-1.885-.04l-1.475-4.017-4.017-1.475ZM.72 5.347c-.9-.33-.928-1.594-.041-1.886l1.384-.455.456-1.385c.292-.887 1.555-.86 1.885.04l.516 1.407 1.406.516c.9.33.928 1.593.041 1.885l-1.385.455-.455 1.385c-.292.887-1.555.86-1.886-.04l-.516-1.406L.72 5.347Z"></path></svg></button><div class="ai-powered-text"><svg viewBox="0 0 201 203" fill="none" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path d="M187.298 82.97a50.549 50.549 0 002.299-21.213 50.551 50.551 0 00-6.656-20.274 51.08 51.08 0 00-54.996-24.5A51.233 51.233 0 0079.247 1.109a51.239 51.239 0 00-38.112 34.221 50.56 50.56 0 00-33.773 24.5 51.08 51.08 0 006.274 59.952 50.522 50.522 0 004.317 41.487 51.121 51.121 0 0055.036 24.5 50.55 50.55 0 0038.09 16.988 51.16 51.16 0 0048.761-35.532 50.591 50.591 0 0033.773-24.5 51.163 51.163 0 00-6.315-59.753zm-76.219 106.515a37.81 37.81 0 01-24.3-8.793l1.198-.679 40.368-23.301a6.713 6.713 0 003.317-5.756V94.042l17.066 9.872a.61.61 0 01.321.44v47.162a38.053 38.053 0 01-37.97 37.969zm-81.615-34.852a37.77 37.77 0 01-4.516-25.46l1.2.72 40.407 23.302a6.522 6.522 0 006.594 0l49.361-28.458v19.705a.675.675 0 01-.281.519l-40.887 23.581a38.008 38.008 0 01-51.878-13.909zm-10.631-87.93a37.89 37.89 0 0119.984-16.666V98a6.473 6.473 0 003.277 5.715l49.12 28.338-17.066 9.871a.64.64 0 01-.6 0l-40.806-23.541a38.048 38.048 0 01-13.91-51.878v.2zM159.04 99.279L109.76 70.66l17.026-9.834a.644.644 0 01.6 0l40.807 23.581a37.967 37.967 0 0111.281 55.825 37.961 37.961 0 01-16.996 12.641v-47.962a6.677 6.677 0 00-3.438-5.634zm16.987-25.54l-1.2-.72-40.327-23.5a6.554 6.554 0 00-6.635 0l-49.32 28.456V58.271a.56.56 0 01.24-.52l40.808-23.541a38.009 38.009 0 0156.435 39.368l-.001.16zM69.232 108.67l-17.066-9.832a.68.68 0 01-.32-.48v-47.04a38.009 38.009 0 0162.31-29.178l-1.199.68-40.367 23.3a6.715 6.715 0 00-3.318 5.756l-.04 56.794zm9.272-19.983l21.982-12.67 22.024 12.67v25.339l-21.943 12.67-22.022-12.67-.04-25.34z" fill="currentColor"></path></svg> OpenAI</div></div><span class="ai-code-explanation" data-trackid="ai-code-explanation" data-testid="ai-code-explanation"></span><div class="ai-feedback"><span class="ai-was-this-helpful">Was this helpful?<button class="ai-explain-code-positive-feedback-button" data-trackid="ai-explain-code-positive-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M13.746 4.337a1.015 1.015 0 0 1 1.409-.099c.417.354.462.97.101 1.378l-7.13 8.047a1.015 1.015 0 0 1-1.483.03L2.771 9.67a.961.961 0 0 1 .044-1.38 1.015 1.015 0 0 1 1.412.041l3.113 3.235 6.406-7.229Z"></path></svg> Yes</button><button class="ai-explain-code-negative-feedback-button" data-trackid="ai-explain-code-negative-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="m9.005 7.625 4.83-4.83a.976.976 0 0 1 1.38 1.38l-4.83 4.83 4.82 4.82a.976.976 0 1 1-1.38 1.38l-4.82-4.82-4.83 4.83a.976.976 0 0 1-1.38-1.38l4.83-4.83-4.84-4.84a.976.976 0 1 1 1.38-1.38l4.84 4.84Z"></path></svg> No</button></span></div></pre>
    <p dir="ltr">We will just change the student description text in the prompt.</p>
    <pre class="language-python"><button class="code-copy-button" data-trackid="copy-code"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M7 4H5a4 4 0 0 1 4-4h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4v-2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2ZM4 7a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H4Zm0-2h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V9a4 4 0 0 1 4-4Z"></path></svg></button><div class="parent"><code class="language-python">prompt2 <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'''
    Please extract the following information from the given text and return it as a JSON object:
    
    name
    major
    school
    grades
    club
    
    This is the body of text to extract the information from:
    </span><span class="token interpolation"><span class="token punctuation">{</span>student_2_description<span class="token punctuation">}</span></span><span class="token string">
    '''</span></span></code></div><div class="code-block-footer"><button data-value="Explain code" class="ai-explain-code-button" data-trackid="ai-explain-code-button" data-testid="ai-explain-code-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M9.751 11.484c.29.107.521.338.628.628l.642 1.748.566-1.722a.94.94 0 0 1 .601-.601l1.722-.566-1.748-.642a1.06 1.06 0 0 1-.628-.628l-.642-1.748-.566 1.722a.94.94 0 0 1-.601.601l-1.722.566 1.748.642Zm-5.092.228c-.9-.33-.927-1.593-.04-1.885l3.956-1.302L9.877 4.57c.291-.887 1.555-.86 1.885.04l1.475 4.017 4.016 1.475c.9.33.928 1.593.041 1.885l-3.956 1.302-1.302 3.956c-.292.887-1.555.86-1.885-.04l-1.475-4.017-4.017-1.475ZM.72 5.347c-.9-.33-.928-1.594-.041-1.886l1.384-.455.456-1.385c.292-.887 1.555-.86 1.885.04l.516 1.407 1.406.516c.9.33.928 1.593.041 1.885l-1.385.455-.455 1.385c-.292.887-1.555.86-1.886-.04l-.516-1.406L.72 5.347Z"></path></svg></button><div class="ai-powered-text"><svg viewBox="0 0 201 203" fill="none" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path d="M187.298 82.97a50.549 50.549 0 002.299-21.213 50.551 50.551 0 00-6.656-20.274 51.08 51.08 0 00-54.996-24.5A51.233 51.233 0 0079.247 1.109a51.239 51.239 0 00-38.112 34.221 50.56 50.56 0 00-33.773 24.5 51.08 51.08 0 006.274 59.952 50.522 50.522 0 004.317 41.487 51.121 51.121 0 0055.036 24.5 50.55 50.55 0 0038.09 16.988 51.16 51.16 0 0048.761-35.532 50.591 50.591 0 0033.773-24.5 51.163 51.163 0 00-6.315-59.753zm-76.219 106.515a37.81 37.81 0 01-24.3-8.793l1.198-.679 40.368-23.301a6.713 6.713 0 003.317-5.756V94.042l17.066 9.872a.61.61 0 01.321.44v47.162a38.053 38.053 0 01-37.97 37.969zm-81.615-34.852a37.77 37.77 0 01-4.516-25.46l1.2.72 40.407 23.302a6.522 6.522 0 006.594 0l49.361-28.458v19.705a.675.675 0 01-.281.519l-40.887 23.581a38.008 38.008 0 01-51.878-13.909zm-10.631-87.93a37.89 37.89 0 0119.984-16.666V98a6.473 6.473 0 003.277 5.715l49.12 28.338-17.066 9.871a.64.64 0 01-.6 0l-40.806-23.541a38.048 38.048 0 01-13.91-51.878v.2zM159.04 99.279L109.76 70.66l17.026-9.834a.644.644 0 01.6 0l40.807 23.581a37.967 37.967 0 0111.281 55.825 37.961 37.961 0 01-16.996 12.641v-47.962a6.677 6.677 0 00-3.438-5.634zm16.987-25.54l-1.2-.72-40.327-23.5a6.554 6.554 0 00-6.635 0l-49.32 28.456V58.271a.56.56 0 01.24-.52l40.808-23.541a38.009 38.009 0 0156.435 39.368l-.001.16zM69.232 108.67l-17.066-9.832a.68.68 0 01-.32-.48v-47.04a38.009 38.009 0 0162.31-29.178l-1.199.68-40.367 23.3a6.715 6.715 0 00-3.318 5.756l-.04 56.794zm9.272-19.983l21.982-12.67 22.024 12.67v25.339l-21.943 12.67-22.022-12.67-.04-25.34z" fill="currentColor"></path></svg> OpenAI</div></div><span class="ai-code-explanation" data-trackid="ai-code-explanation" data-testid="ai-code-explanation"></span><div class="ai-feedback"><span class="ai-was-this-helpful">Was this helpful?<button class="ai-explain-code-positive-feedback-button" data-trackid="ai-explain-code-positive-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M13.746 4.337a1.015 1.015 0 0 1 1.409-.099c.417.354.462.97.101 1.378l-7.13 8.047a1.015 1.015 0 0 1-1.483.03L2.771 9.67a.961.961 0 0 1 .044-1.38 1.015 1.015 0 0 1 1.412.041l3.113 3.235 6.406-7.229Z"></path></svg> Yes</button><button class="ai-explain-code-negative-feedback-button" data-trackid="ai-explain-code-negative-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="m9.005 7.625 4.83-4.83a.976.976 0 0 1 1.38 1.38l-4.83 4.83 4.82 4.82a.976.976 0 1 1-1.38 1.38l-4.82-4.82-4.83 4.83a.976.976 0 0 1-1.38-1.38l4.83-4.83-4.84-4.84a.976.976 0 1 1 1.38-1.38l4.84 4.84Z"></path></svg> No</button></span></div></pre>
    <p dir="ltr">And, run the chat completion function using the second prompt.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token comment"># Generating response back from gpt-3.5-turbo</span>
    openai_response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        model <span class="token operator">=</span> <span class="token string">'gpt-3.5-turbo'</span><span class="token punctuation">,</span>
        messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> prompt_2<span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span>
    
    <span class="token comment"># Loading the response as a JSON object</span>
    json_response <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>openai_response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
    json_response</code></pre>
    <p dir="ltr">As you can see, it is not consistent. Instead of returning one club, it has returned the list of clubs joined by Ravi. It is also different from the first student.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Ravi Patel'</span><span class="token punctuation">,</span>
     <span class="token string">'major'</span><span class="token punctuation">:</span> <span class="token string">'computer science'</span><span class="token punctuation">,</span>
     <span class="token string">'school'</span><span class="token punctuation">:</span> <span class="token string">'University of Michigan'</span><span class="token punctuation">,</span>
     <span class="token string">'grades'</span><span class="token punctuation">:</span> <span class="token string">'3.7 GPA'</span><span class="token punctuation">,</span>
     <span class="token string">'club'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Chess Club'</span><span class="token punctuation">,</span> <span class="token string">'South Asian Student Association'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    </code></pre>
    <h2 id="openai-function-calling-example">OpenAI Function Calling Example</h2>
    <p dir="ltr">To resolve this issue, we will now use a recently introduced feature called Function Calling. It is essential to create a custom function to add necessary information to a list of dictionaries so that the OpenAI API can understand its functionality.</p>
    <ul>
    <li><strong>name</strong>: write the Python function name that you have recently created.</li>
    <li><strong>description</strong>: the functionality of the function.</li>
    <li><strong>parameters</strong>: within the “properties”, we will write the name of the arguments, type, and description. It will help OpenAI API to identify the world that we are looking for.</li>
    </ul>
    <p dir="ltr"><strong>Note</strong>: Make sure you are following the correct pattern. Learn more about function calling by reading the official <a href="https://platform.openai.com/docs/guides/gpt/function-calling" target="_blank" rel="noopener">documentation</a>.</p>
    <pre class="language-python"><button class="code-copy-button" data-trackid="copy-code"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M7 4H5a4 4 0 0 1 4-4h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4v-2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2ZM4 7a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H4Zm0-2h5a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V9a4 4 0 0 1 4-4Z"></path></svg></button><div class="parent"><code class="language-python">student_custom_functions <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'extract_student_info'</span><span class="token punctuation">,</span>
            <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Get the student information from the body of the input text'</span><span class="token punctuation">,</span>
            <span class="token string">'parameters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
                <span class="token string">'properties'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Name of the person'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'major'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Major subject.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'school'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'The university name.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'grades'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'GPA of the student.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'club'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'School club for extracurricular activities. '</span>
                    <span class="token punctuation">}</span>
                    
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span></code></div><div class="code-block-footer"><button data-value="Explain code" class="ai-explain-code-button" data-trackid="ai-explain-code-button" data-testid="ai-explain-code-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M9.751 11.484c.29.107.521.338.628.628l.642 1.748.566-1.722a.94.94 0 0 1 .601-.601l1.722-.566-1.748-.642a1.06 1.06 0 0 1-.628-.628l-.642-1.748-.566 1.722a.94.94 0 0 1-.601.601l-1.722.566 1.748.642Zm-5.092.228c-.9-.33-.927-1.593-.04-1.885l3.956-1.302L9.877 4.57c.291-.887 1.555-.86 1.885.04l1.475 4.017 4.016 1.475c.9.33.928 1.593.041 1.885l-3.956 1.302-1.302 3.956c-.292.887-1.555.86-1.885-.04l-1.475-4.017-4.017-1.475ZM.72 5.347c-.9-.33-.928-1.594-.041-1.886l1.384-.455.456-1.385c.292-.887 1.555-.86 1.885.04l.516 1.407 1.406.516c.9.33.928 1.593.041 1.885l-1.385.455-.455 1.385c-.292.887-1.555.86-1.886-.04l-.516-1.406L.72 5.347Z"></path></svg></button><div class="ai-powered-text"><svg viewBox="0 0 201 203" fill="none" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path d="M187.298 82.97a50.549 50.549 0 002.299-21.213 50.551 50.551 0 00-6.656-20.274 51.08 51.08 0 00-54.996-24.5A51.233 51.233 0 0079.247 1.109a51.239 51.239 0 00-38.112 34.221 50.56 50.56 0 00-33.773 24.5 51.08 51.08 0 006.274 59.952 50.522 50.522 0 004.317 41.487 51.121 51.121 0 0055.036 24.5 50.55 50.55 0 0038.09 16.988 51.16 51.16 0 0048.761-35.532 50.591 50.591 0 0033.773-24.5 51.163 51.163 0 00-6.315-59.753zm-76.219 106.515a37.81 37.81 0 01-24.3-8.793l1.198-.679 40.368-23.301a6.713 6.713 0 003.317-5.756V94.042l17.066 9.872a.61.61 0 01.321.44v47.162a38.053 38.053 0 01-37.97 37.969zm-81.615-34.852a37.77 37.77 0 01-4.516-25.46l1.2.72 40.407 23.302a6.522 6.522 0 006.594 0l49.361-28.458v19.705a.675.675 0 01-.281.519l-40.887 23.581a38.008 38.008 0 01-51.878-13.909zm-10.631-87.93a37.89 37.89 0 0119.984-16.666V98a6.473 6.473 0 003.277 5.715l49.12 28.338-17.066 9.871a.64.64 0 01-.6 0l-40.806-23.541a38.048 38.048 0 01-13.91-51.878v.2zM159.04 99.279L109.76 70.66l17.026-9.834a.644.644 0 01.6 0l40.807 23.581a37.967 37.967 0 0111.281 55.825 37.961 37.961 0 01-16.996 12.641v-47.962a6.677 6.677 0 00-3.438-5.634zm16.987-25.54l-1.2-.72-40.327-23.5a6.554 6.554 0 00-6.635 0l-49.32 28.456V58.271a.56.56 0 01.24-.52l40.808-23.541a38.009 38.009 0 0156.435 39.368l-.001.16zM69.232 108.67l-17.066-9.832a.68.68 0 01-.32-.48v-47.04a38.009 38.009 0 0162.31-29.178l-1.199.68-40.367 23.3a6.715 6.715 0 00-3.318 5.756l-.04 56.794zm9.272-19.983l21.982-12.67 22.024 12.67v25.339l-21.943 12.67-22.022-12.67-.04-25.34z" fill="currentColor"></path></svg> OpenAI</div></div><span class="ai-code-explanation" data-trackid="ai-code-explanation" data-testid="ai-code-explanation"></span><div class="ai-feedback"><span class="ai-was-this-helpful">Was this helpful?<button class="ai-explain-code-positive-feedback-button" data-trackid="ai-explain-code-positive-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="M13.746 4.337a1.015 1.015 0 0 1 1.409-.099c.417.354.462.97.101 1.378l-7.13 8.047a1.015 1.015 0 0 1-1.483.03L2.771 9.67a.961.961 0 0 1 .044-1.38 1.015 1.015 0 0 1 1.412.041l3.113 3.235 6.406-7.229Z"></path></svg> Yes</button><button class="ai-explain-code-negative-feedback-button" data-trackid="ai-explain-code-negative-feedback-button"><svg aria-hidden="true" height="16" width="16" viewBox="0 0 18 18" data-reactroot=""><path fill="currentColor" d="m9.005 7.625 4.83-4.83a.976.976 0 0 1 1.38 1.38l-4.83 4.83 4.82 4.82a.976.976 0 1 1-1.38 1.38l-4.82-4.82-4.83 4.83a.976.976 0 0 1-1.38-1.38l4.83-4.83-4.84-4.84a.976.976 0 1 1 1.38-1.38l4.84 4.84Z"></path></svg> No</button></span></div></pre>
    <p>Next, we will generate responses for two student descriptions using a custom function added to the "functions" argument. After that, we will convert the text response into a JSON object and print it.</p>
    <pre class="language-python" tabindex="0"><code class="language-python">student_description <span class="token operator">=</span> <span class="token punctuation">[</span>student_1_description<span class="token punctuation">,</span>student_2_description<span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> student_description<span class="token punctuation">:</span>
        response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
            model <span class="token operator">=</span> <span class="token string">'gpt-3.5-turbo'</span><span class="token punctuation">,</span>
            messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> i<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            functions <span class="token operator">=</span> student_custom_functions<span class="token punctuation">,</span>
            function_call <span class="token operator">=</span> <span class="token string">'auto'</span>
        <span class="token punctuation">)</span>
    
        <span class="token comment"># Loading the response as a JSON object</span>
        json_response <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>function_call<span class="token punctuation">.</span>arguments<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>json_response<span class="token punctuation">)</span></code></pre>
    <p>As we can see, we got uniform output. We even got grades in numeric instead of string. Consistent output is essential for creating bug-free AI applications.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'David Nguyen'</span><span class="token punctuation">,</span> <span class="token string">'major'</span><span class="token punctuation">:</span> <span class="token string">'computer science'</span><span class="token punctuation">,</span> <span class="token string">'school'</span><span class="token punctuation">:</span> <span class="token string">'Stanford University'</span><span class="token punctuation">,</span> <span class="token string">'grades'</span><span class="token punctuation">:</span> <span class="token number">3.8</span><span class="token punctuation">,</span> <span class="token string">'club'</span><span class="token punctuation">:</span> <span class="token string">'Robotics Club'</span><span class="token punctuation">}</span> 
    
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Ravi Patel'</span><span class="token punctuation">,</span> <span class="token string">'major'</span><span class="token punctuation">:</span> <span class="token string">'computer science'</span><span class="token punctuation">,</span> <span class="token string">'school'</span><span class="token punctuation">:</span> <span class="token string">'University of Michigan'</span><span class="token punctuation">,</span> <span class="token string">'grades'</span><span class="token punctuation">:</span> <span class="token number">3.7</span><span class="token punctuation">,</span> <span class="token string">'club'</span><span class="token punctuation">:</span> <span class="token string">'Chess Club'</span><span class="token punctuation">}</span></code></pre>
    <h2 id="multiple-custom-functions" dir="ltr">Multiple Custom Functions</h2>
    <p dir="ltr">You can add multiple custom functions to the chat completion function. In this section, we will see the magical capabilities of OpenAI API and how it automatically selects the correct function and returns the right arguments.</p>
    <p dir="ltr">In the Python list of the dictionary, we will add another function called “extract_school_info,” which will help us extract university information from the text.</p>
    <p dir="ltr">To achieve this, you have to add another dictionary of a function with name, description, and parameters.</p>
    <pre class="language-python" tabindex="0"><code class="language-python">custom_functions <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'extract_student_info'</span><span class="token punctuation">,</span>
            <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Get the student information from the body of the input text'</span><span class="token punctuation">,</span>
            <span class="token string">'parameters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
                <span class="token string">'properties'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Name of the person'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'major'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Major subject.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'school'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'The university name.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'grades'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'GPA of the student.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'club'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'School club for extracurricular activities. '</span>
                    <span class="token punctuation">}</span>
                    
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'extract_school_info'</span><span class="token punctuation">,</span>
            <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Get the school information from the body of the input text'</span><span class="token punctuation">,</span>
            <span class="token string">'parameters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
                <span class="token string">'properties'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Name of the school.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'ranking'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'QS world ranking of the school.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'country'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Country of the school.'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">'no_of_students'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span>
                        <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'Number of students enrolled in the school.'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span></code></pre>
    <p dir="ltr">We will generate a “Stanford University” description using ChatGPT to test our function.</p>
    <pre class="language-markdown" tabindex="0"><code class="language-markdown">school_1_description = "Stanford University is a private research university located in Stanford, California, United States. It was founded in 1885 by Leland Stanford and his wife, Jane Stanford, in memory of their only child, Leland Stanford Jr. The university is ranked #5 in the world by QS World University Rankings. It has over 17,000 students, including about 7,600 undergraduates and 9,500 graduates23. "</code></pre>
    <p>Create the list of student and school descriptions and pass it through the OpenAI chat completion function to generate the response. Make sure you have provided the updated custom function.</p>
    <pre class="language-python" tabindex="0"><code class="language-python">description <span class="token operator">=</span> <span class="token punctuation">[</span>student_1_description<span class="token punctuation">,</span> school_1_description<span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> description<span class="token punctuation">:</span>
        response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
            model <span class="token operator">=</span> <span class="token string">'gpt-3.5-turbo'</span><span class="token punctuation">,</span>
            messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> i<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            functions <span class="token operator">=</span> custom_functions<span class="token punctuation">,</span>
            function_call <span class="token operator">=</span> <span class="token string">'auto'</span>
        <span class="token punctuation">)</span>
    
        <span class="token comment"># Loading the response as a JSON object</span>
        json_response <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>function_call<span class="token punctuation">.</span>arguments<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>json_response<span class="token punctuation">)</span></code></pre>
    <p dir="ltr">The GPT-3.5-Turbo model has automatically selected the correct function for different description types. We get perfect JSON output for the student and the school.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'David Nguyen'</span><span class="token punctuation">,</span> <span class="token string">'major'</span><span class="token punctuation">:</span> <span class="token string">'computer science'</span><span class="token punctuation">,</span> <span class="token string">'school'</span><span class="token punctuation">:</span> <span class="token string">'Stanford University'</span><span class="token punctuation">,</span> <span class="token string">'grades'</span><span class="token punctuation">:</span> <span class="token number">3.8</span><span class="token punctuation">,</span> <span class="token string">'club'</span><span class="token punctuation">:</span> <span class="token string">'Robotics Club'</span><span class="token punctuation">}</span> 
    
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Stanford University'</span><span class="token punctuation">,</span> <span class="token string">'ranking'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'country'</span><span class="token punctuation">:</span> <span class="token string">'United States'</span><span class="token punctuation">,</span> <span class="token string">'no_of_students'</span><span class="token punctuation">:</span> <span class="token number">17000</span><span class="token punctuation">}</span></code></pre>
    <p dir="ltr">We can even look under the name that the repose is generated using the “extract_school_info” function.</p>
    <p><strong id="docs-internal-guid-8ffe323f-7fff-a43d-e0c4-25b767cceb9e"><img loading="lazy" height="219" width="624" src="https://res.cloudinary.com/dyd911kmh/image/upload/v1705686182/image_db3c0d4ad3.png" style="display: block; margin-left: auto; margin-right: auto;"></strong></p>
    <h2 id="applications-of-function-calling" dir="ltr">Applications of Function Calling</h2>
    <p dir="ltr">In this section, we will build a stable text summarizer that will summarize the school and student information in a certain way.</p>
    <p dir="ltr">First, we will create two Python functions, <code>extract_student_info</code> and <code>extract_school_info,</code> that take the arguments from function calling and return a summarized string.</p>
    <pre class="language-python" tabindex="0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">extract_student_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> major<span class="token punctuation">,</span> school<span class="token punctuation">,</span> grades<span class="token punctuation">,</span> club<span class="token punctuation">)</span><span class="token punctuation">:</span>
        
        <span class="token triple-quoted-string string">"""Get the student information"""</span>
    
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string"> is majoring in </span><span class="token interpolation"><span class="token punctuation">{</span>major<span class="token punctuation">}</span></span><span class="token string"> at </span><span class="token interpolation"><span class="token punctuation">{</span>school<span class="token punctuation">}</span></span><span class="token string">. He has </span><span class="token interpolation"><span class="token punctuation">{</span>grades<span class="token punctuation">}</span></span><span class="token string"> GPA and he is an active member of the university's </span><span class="token interpolation"><span class="token punctuation">{</span>club<span class="token punctuation">}</span></span><span class="token string">."</span></span>
    
    <span class="token keyword">def</span> <span class="token function">extract_school_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> ranking<span class="token punctuation">,</span> country<span class="token punctuation">,</span> no_of_students<span class="token punctuation">)</span><span class="token punctuation">:</span>
        
        <span class="token triple-quoted-string string">"""Get the school information"""</span>
    
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string"> is located in the </span><span class="token interpolation"><span class="token punctuation">{</span>country<span class="token punctuation">}</span></span><span class="token string">. The university is ranked #</span><span class="token interpolation"><span class="token punctuation">{</span>ranking<span class="token punctuation">}</span></span><span class="token string"> in the world with </span><span class="token interpolation"><span class="token punctuation">{</span>no_of_students<span class="token punctuation">}</span></span><span class="token string"> students."</span></span></code></pre>
    <ol>
    <li>Create the Python list, which consists of student one description, random prompt, and school one description. The random prompt is added to validate the automatic function calling mechanic.</li>
    <li>We will generate the response using each text in the `descriptions` list.</li>
    <li>If a function call is used, we will get the name of the function and, based on it, apply the relevant arguments to the function using the response. Otherwise, return the normal response.</li>
    <li>Print the outputs of all three samples.</li>
    </ol>
    <pre class="language-python" tabindex="0"><code class="language-python">descriptions <span class="token operator">=</span> <span class="token punctuation">[</span>
        student_1_description<span class="token punctuation">,</span> 
        <span class="token string">"Who was a Abraham Lincoln?"</span><span class="token punctuation">,</span>
        school_1_description
                    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> sample <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>descriptions<span class="token punctuation">)</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
            model <span class="token operator">=</span> <span class="token string">'gpt-3.5-turbo'</span><span class="token punctuation">,</span>
            messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> sample<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            functions <span class="token operator">=</span> custom_functions<span class="token punctuation">,</span>
            function_call <span class="token operator">=</span> <span class="token string">'auto'</span>
        <span class="token punctuation">)</span>
        
        response_message <span class="token operator">=</span> response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message
        
        <span class="token keyword">if</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>response_message<span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'function_call'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            
            <span class="token comment"># Which function call was invoked</span>
            function_called <span class="token operator">=</span> response_message<span class="token punctuation">.</span>function_call<span class="token punctuation">.</span>name
            
            <span class="token comment"># Extracting the arguments</span>
            function_args  <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response_message<span class="token punctuation">.</span>function_call<span class="token punctuation">.</span>arguments<span class="token punctuation">)</span>
            
            <span class="token comment"># Function names</span>
            available_functions <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token string">"extract_school_info"</span><span class="token punctuation">:</span> extract_school_info<span class="token punctuation">,</span>
                <span class="token string">"extract_student_info"</span><span class="token punctuation">:</span> extract_student_info
            <span class="token punctuation">}</span>
            
            fuction_to_call <span class="token operator">=</span> available_functions<span class="token punctuation">[</span>function_called<span class="token punctuation">]</span>
            response_message <span class="token operator">=</span> fuction_to_call<span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">list</span><span class="token punctuation">(</span>function_args <span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            response_message <span class="token operator">=</span> response_message<span class="token punctuation">.</span>content
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"\nSample#</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>response_message<span class="token punctuation">)</span></code></pre>
    <ul>
    <li><strong>Sample#1</strong>: The GPT model has selected “extract_student_info,” and we got a short summary about the student.</li>
    <li><strong>Sample#2</strong>: The GPT model has not selected any function and treated the prompt as a regular question, and as a result, we got the biography of Abraham Lincoln.</li>
    <li><strong>Sample#3</strong>: The GPT model has selected “extract_school_info,” and we got a short summary about Stanford University.</li>
    </ul>
    <pre class="language-python" tabindex="0"><code class="language-python">Sample<span class="token comment">#1</span>
    
    David Nguyen <span class="token keyword">is</span> majoring <span class="token keyword">in</span> computer science at Stanford University<span class="token punctuation">.</span> He has <span class="token number">3.8</span> GPA <span class="token keyword">and</span> he <span class="token keyword">is</span> an active member of the university's Robotics Club<span class="token punctuation">.</span>
    
    Sample<span class="token comment">#2</span>
    
    Abraham Lincoln was the 16th President of the United States<span class="token punctuation">.</span> He served <span class="token keyword">as</span> president <span class="token keyword">from</span> March <span class="token number">1861</span> until his assassination <span class="token keyword">in</span> April <span class="token number">1865.</span> Lincoln led the country through its greatest internal crisis<span class="token punctuation">,</span> the American Civil War<span class="token punctuation">,</span> <span class="token keyword">and</span> his Emancipation Proclamation declared slaves <span class="token keyword">in</span> Confederate territory to be free<span class="token punctuation">.</span> He <span class="token keyword">is</span> known <span class="token keyword">for</span> his leadership<span class="token punctuation">,</span> his commitment to preserving the Union<span class="token punctuation">,</span> <span class="token keyword">and</span> his efforts to abolish slavery<span class="token punctuation">.</span> Lincoln's presidency <span class="token keyword">is</span> widely regarded <span class="token keyword">as</span> one of the most transformative <span class="token keyword">in</span> American history<span class="token punctuation">.</span>
    
    Sample<span class="token comment">#3</span>
    
    Stanford University <span class="token keyword">is</span> located <span class="token keyword">in</span> the United States<span class="token punctuation">.</span> The university <span class="token keyword">is</span> ranked <span class="token comment">#5 in the world with 17000 students.</span></code></pre>
    <h2 id="conclusion" dir="ltr">Conclusion</h2>
    <p dir="ltr">OpenAI's function calling opens up exciting new possibilities for developers building AI applications. By allowing models like GPT-3.5 and GPT-4 to generate structured JSON data through custom functions, it solves major pain points around inconsistent and unpredictable text outputs.</p>
    <p dir="ltr">Function calling can be used to access external web APIs, execute custom SQL queries, and develop stable AI applications. It can extract relevant information from text and provide consistent responses for API and SQL commands.</p>
    <p dir="ltr">In this tutorial, we learned about OpenAI's new feature, function calling. We also learned how to use it to generate consistent outputs, create multiple functions, and build a reliable text summarizer.</p>
    <p dir="ltr">If you want to learn more about the OpenAI API, consider taking the <a href="https://www.datacamp.com/courses/working-with-the-openai-api" target="_blank" rel="noopener">Working with OpenAI API course</a> and using the <a href="https://www.datacamp.com/cheat-sheet/the-open-ai-api-in-python" target="_blank" rel="noopener">OpenAI API in Python cheat sheet</a> to create your first AI-powered project.</p></div><p class="mfe-app-learn-hub-wrijbb">Topics</p><div class="mfe-app-learn-hub-1tdl13s"><button class="mfe-app-learn-hub-11azeqi"><div class="mfe-app-learn-hub-1wk0aqp"><span class="mfe-app-learn-hub-tuqqg1">Artificial Intelligence (AI)</span></div></button><button class="mfe-app-learn-hub-1pomiwe"><div class="mfe-app-learn-hub-1wk0aqp"><span class="mfe-app-learn-hub-tuqqg1">Python</span></div></button></div></section>
